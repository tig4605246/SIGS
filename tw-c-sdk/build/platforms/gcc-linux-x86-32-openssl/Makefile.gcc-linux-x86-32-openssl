# (c)2014 ThingWorx
# C SDK Example Platform Make file

# Set up your compiler and link options here
TOOLROOT = /usr
TOOL_PREFIX = 
CCDIR = ${TOOLROOT}/bin
LIBDIR = ${TOOLROOT}/lib
INCDIR = ${TOOLROOT}/include

export LD_LIBRARY_PATH=$(TOOLROOT)/lib/gcc
OS_INCLUDE		= "twLinux-openssl.h"

CC              = ${CCDIR}/$(TOOL_PREFIX)gcc
CC_OPTS         = -DTW_OS_INCLUDE='$(OS_INCLUDE)' -Wall -D_GNU_SOURCE -D_FILE_OFFSET_BITS=64 -DCC_GNU -m32 \
                  -pthread -fPIC -ffunction-sections -fdata-sections -Wno-unused-function $(SDK_CONFIG)
LINKER          = $(CC)
LIBOPTS         = -Wl,-rpath,$(TLS_LIB_DIR) -pthread -m32 -fPIC -Wl,--gc-sections -L${LIBDIR} -L$(TLS_LIB_DIR)
STATIC_LIBS     =
AR              = ${CCDIR}/$(TOOL_PREFIX)ar cru 
RANLIB          = ${CCDIR}/$(TOOL_PREFIX)ranlib

# OS FILES
OS_INC_DIR   = 
OS_SRCS      = $(TW_SDK_ROOT)/src/porting/twLinux.c
OS_DEFS      =
OS_LIBS      =
OS_LIB_DIR   =

# OPENSSL
NO_AXTLS     = 1
ifeq ($(TLS_INC_DIR),)
TLS_INC_DIR  = $(TW_SDK_ROOT)/src/thirdParty/openssl-1.0.1h_fips-2.0_sdk/linux-x86-32/include
endif
ifeq ($(TLS_LIB_DIR),)
TLS_LIB_DIR  = $(TW_SDK_ROOT)/src/thirdParty/openssl-1.0.1h_fips-2.0_sdk/linux-x86-32/lib
endif
